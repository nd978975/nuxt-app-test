import{_ as M}from"./NPanelGrids.fc7166ff.js";import{_ as N}from"./AuthRequiredPanel.vue.4f66b5dd.js";import{a as j,a0 as V,r as x,l as g,ag as $,ah as B,a3 as q,ai as E,aj as h,ak as I,al as L,e as D,o as a,D as P,C as W,am as F,an as C,y as A,u as t,c as l,w as b,q as O,ab as R,F as S,b as c,j as y,t as T,f as U,a6 as G}from"./entry.f3de3eb8.js";import{_ as X}from"./LaunchPage.vue.b85270dd.js";import"./NIconButton.vue.e211c1b6.js";import"./NMarkdown.vue.26c114a8.js";import"./client.aa60153e.js";const w=new Map,z=j({__name:"IframeView",props:{tab:{}},setup(k){const m=k,u=V(),r=x(),d=g(()=>m.tab.name),e=x(),o=$(B(r));q(()=>{const n=m.tab.view,s=n.persistent!==!1,f=["clipboard-write","clipboard-read"];if(w.get(d.value)&&s)e.value=w.get(d.value),e.value.style.visibility="visible";else{e.value=document.createElement("iframe"),e.value.setAttribute("allow",f.join("; ")),s&&w.set(d.value,e.value),e.value.src=n.src;try{e.value.style.opacity="0.01",e.value.onload=()=>{v(),i(),e.value.style.opacity="1"}}catch{e.value.style.opacity="1"}document.body.appendChild(e.value),E(_)}setTimeout(i,100)}),h(_),h(i),h(v),I(()=>{e.value&&(e.value.style.visibility="hidden")});function i(){if(!(!e.value||!e.value.contentWindow))try{const n=e.value.contentWindow.document.querySelector("html");n?.classList.toggle("dark",u.value==="dark"),n?.classList.toggle("light",u.value==="dark"),new MutationObserver(()=>{u.value=e.value?.contentWindow?.document.querySelector("html")?.classList.contains("dark")?"dark":"light"}).observe(n,{attributes:!0,attributeFilter:["class"]})}catch{}}const p=L();function v(){if(!(!e.value||!e.value.contentWindow))try{e.value.contentWindow.__NUXT_DEVTOOLS__=p.value}catch{}}function _(){e.value&&Object.assign(e.value.style,{position:"fixed",left:`${o.left}px`,top:`${o.top}px`,width:`${o.width}px`,height:`${o.height}px`,outline:"none"})}return(n,s)=>(a(),D("div",{ref_key:"anchor",ref:r,"h-full":"","w-full":""},null,512))}}),H={flex:"~ col gap2",mxa:"","items-center":""},J=c("div",{"i-carbon-queued":"",mb2:"","text-5xl":"",op50:""},null,-1),K={"text-xl":""},Q={"text-rose":""},Y=c("p",{op50:""}," It might because the module contributing this tab is not installed or enabled ",-1),Z=c("p",{mt8:"","animate-pulse":""}," Redirecting to overview page... ",-1),ce=j({__name:"custom-[name]",setup(k){const m=P(),u=W(),r=g(()=>m.params.name),d=F(),e=g(()=>d.value.find(o=>o.name===r.value));return q(()=>{e.value?e.value.requireAuth&&!C.value&&A.requestForAuth():setTimeout(()=>{e.value||u.push("/modules/overview")},2e3)}),(o,i)=>{const p=M,v=N,_=z,n=X,s=G;return a(),D(S,null,[t(e)?O("",!0):(a(),l(p,{key:0},{default:b(()=>[c("div",H,[J,c("p",K,[y(" Tab "),c("code",Q,T(t(r)),1),y(" not found ")]),Y,Z])]),_:1})),t(e).requireAuth&&!("isDevAuthed"in o?o.isDevAuthed:t(C))?(a(),l(v,{key:1})):t(e).view.type==="iframe"?(a(),l(_,{key:2,tab:t(e)},null,8,["tab"])):t(e).view.type==="vnode"?(a(),l(R(t(e).view.vnode),{key:3})):t(e).view.type==="launch"?(a(),l(n,{key:4,icon:t(e).view.icon||t(e).icon,title:t(e).view.title||t(e).title,description:t(e).view.description,actions:t(e).view.actions,onAction:i[0]||(i[0]=f=>("rpc"in o?o.rpc:t(A)).customTabAction(t(e).name,f))},null,8,["icon","title","description","actions"])):(a(),l(p,{key:5},{default:b(()=>[U(s,{flex:"~ col","h-full":"","items-center":"","justify-center":""},{default:b(()=>[y(" Unknown tab type "+T(t(e).view),1)]),_:1})]),_:1}))],64)}}});export{ce as default};
